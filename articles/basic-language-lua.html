<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Основы языка Lua</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Полное руководство по основам языка Lua</h1>
        <p>Это подробное руководство по основам языка Lua, включающее примеры программ, которые демонстрируют различные
            концепции программирования на Lua.</p>
        <div class="back-container">
            <a href="links.html" class="back-link">Назад</a>
        </div>

        <h2>Первая программа на Lua</h2>
        <p>Каждая программа на Lua начинается с простого кода:</p>
        <pre><code class="language-lua">
print("Hello, World!")
        </code></pre>

        <h2>Типы данных</h2>
        <p>Основные типы данных в Lua:</p>
        <ul>
            <li><code>number</code> — числовые значения</li>
            <li><code>string</code> — строки</li>
            <li><code>boolean</code> — логические значения</li>
            <li><code>table</code> — таблицы (ассоциативные массивы)</li>
            <li><code>function</code> — функции</li>
            <li><code>nil</code> — значение отсутствия</li>
        </ul>

        <h2>Арифметические операции</h2>
        <p>Пример использования арифметических операций в Lua:</p>
        <pre><code class="language-lua">
a = 10
b = 20
sum = a + b
diff = b - a
prod = a * b
div = b / a
mod = b % a

print("Sum: " .. sum)
print("Difference: " .. diff)
print("Product: " .. prod)
print("Division: " .. div)
print("Modulus: " .. mod)
        </code></pre>

        <h2>Ввод/Вывод</h2>
        <p>Ввод и вывод данных в Lua:</p>
        <pre><code class="language-lua">
print("Enter an integer:")
num = io.read("*n")
print("You entered: " .. num)
        </code></pre>

        <h2>Условные операторы</h2>
        <p>Пример использования оператора <code>if-else</code>:</p>
        <pre><code class="language-lua">
print("Enter an integer:")
num = io.read("*n")

if num > 0 then
    print("The number is positive.")
elseif num < 0 then
    print("The number is negative.")
else
    print("The number is zero.")
end
        </code></pre>

        <h2>Циклы</h2>
        <p>Пример цикла <code>while</code>:</p>
        <pre><code class="language-lua">
i = 0
while i < 5 do
    print("i = " .. i)
    i = i + 1
end
        </code></pre>

        <h2>Массивы</h2>
        <p>Пример работы с массивами в Lua (таблицы с числовыми индексами):</p>
        <pre><code class="language-lua">
arr = {1, 2, 3, 4, 5}
for i, v in ipairs(arr) do
    print("arr[" .. i .. "] = " .. v)
end
        </code></pre>

        <h2>Функции</h2>
        <p>Пример создания и использования функции:</p>
        <pre><code class="language-lua">
function greet()
    print("Hello from the function!")
end

greet()
        </code></pre>

        <h2>Классы и объекты</h2>
        <p>В Lua нет встроенной поддержки классов, но можно создать объекты с помощью таблиц:</p>
        <pre><code class="language-lua">
Rectangle = {}
Rectangle.__index = Rectangle

function Rectangle.new(width, height)
    local self = setmetatable({}, Rectangle)
    self.width = width
    self.height = height
    return self
end

function Rectangle:area()
    return self.width * self.height
end

function Rectangle:display()
    print("Width: " .. self.width .. ", Height: " .. self.height .. ", Area: " .. self:area())
end

rect = Rectangle.new(5, 3)
rect:display()
        </code></pre>

        <h2>Наследование</h2>
        <p>Пример использования наследования в Lua:</p>
        <pre><code class="language-lua">
Animal = {}
Animal.__index = Animal

function Animal.new()
    local self = setmetatable({}, Animal)
    return self
end

function Animal:speak()
    print("Animal makes a sound.")
end

Dog = setmetatable({}, {__index = Animal})
Dog.__index = Dog

function Dog.new()
    local self = setmetatable(Animal.new(), Dog)
    return self
end

function Dog:speak()
    print("Dog barks.")
end

animal = Dog.new()
animal:speak()
        </code></pre>

        <h2>Работа с указателями</h2>
        <p>В Lua указатели не используются напрямую, работа происходит через таблицы:</p>
        <pre><code class="language-lua">
num = 10
ptr = num

print("Value of num: " .. num)
print("Value via reference: " .. ptr)

num = 20
print("New value of num: " .. num)
        </code></pre>

        <h2>Динамическое выделение памяти</h2>
        <p>В Lua управление памятью происходит автоматически с помощью сборщика мусора:</p>
        <pre><code class="language-lua">
-- Lua управляет памятью автоматически
arr = {1, 2, 3, 4, 5}
print(table.concat(arr, ", "))
        </code></pre>

        <h2>Работа с файлами</h2>
        <p>Пример работы с файлами в Lua:</p>
        <pre><code class="language-lua">
-- Запись в файл
file = io.open("example.txt", "w")
file:write("Hello, file!\n")
file:close()

-- Чтение из файла
file = io.open("example.txt", "r")
content = file:read("*a")
print(content)
file:close()
        </code></pre>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-lua.min.js"></script>
</body>

</html>
