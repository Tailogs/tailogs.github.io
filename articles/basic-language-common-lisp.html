<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Основы языка Common Lisp</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Полное руководство по основам языка Common Lisp</h1>
        <p>Это подробное руководство по основам языка Common Lisp, включающее примеры программ, которые демонстрируют различные
            концепции программирования на Common Lisp.</p>
        <div class="back-container">
            <a href="links.html" class="back-link">Назад</a>
        </div>

        <h2>Первая программа на Common Lisp</h2>
        <p>Каждая программа на Common Lisp начинается с функции <code>defun</code>:</p>
        <pre><code class="language-lisp">
(defun main ()
  (format t "Hello, World!~%"))

(main)
        </code></pre>

        <h2>Типы данных</h2>
        <p>Основные типы данных в Common Lisp:</p>
        <ul>
            <li><code>integer</code> — целые числа</li>
            <li><code>float</code> — числа с плавающей запятой</li>
            <li><code>character</code> — одиночные символы</li>
            <li><code>string</code> — строки</li>
        </ul>

        <h2>Арифметические операции</h2>
        <p>Пример использования арифметических операций в Common Lisp:</p>
        <pre><code class="language-lisp">
(defun arithmetic-operations ()
  (let ((a 10)
        (b 20))
    (format t "Sum: ~d~%" (+ a b))
    (format t "Difference: ~d~%" (- b a))
    (format t "Product: ~d~%" (* a b))
    (format t "Division: ~d~%" (/ b a))
    (format t "Modulus: ~d~%" (mod b a))))

(arithmetic-operations)
        </code></pre>

        <h2>Ввод/Вывод</h2>
        <p>Ввод и вывод данных с использованием <code>read</code> и <code>format</code>:</p>
        <pre><code class="language-lisp">
(defun read-input ()
  (format t "Enter an integer: ")
  (let ((num (read)))
    (format t "You entered: ~d~%" num)))

(read-input)
        </code></pre>

        <h2>Условные операторы</h2>
        <p>Пример использования оператора <code>if</code>:</p>
        <pre><code class="language-lisp">
(defun conditional-example ()
  (format t "Enter an integer: ")
  (let ((num (read)))
    (cond
      ((> num 0) (format t "The number is positive.~%"))
      ((< num 0) (format t "The number is negative.~%"))
      (t (format t "The number is zero.~%")))))

(conditional-example)
        </code></pre>

        <h2>Циклы</h2>
        <p>Пример цикла <code>loop</code>:</p>
        <pre><code class="language-lisp">
(defun loop-example ()
  (loop for i from 0 to 4
        do (format t "i = ~d~%" i)))

(loop-example)
        </code></pre>

        <h2>Массивы</h2>
        <p>Пример работы с массивами:</p>
        <pre><code class="language-lisp">
(defun array-example ()
  (let ((arr #(1 2 3 4 5)))
    (loop for i from 0 to (1- (length arr))
          do (format t "arr[~d] = ~d~%" i (aref arr i)))))

(array-example)
        </code></pre>

        <h2>Функции</h2>
        <p>Пример создания и использования функции:</p>
        <pre><code class="language-lisp">
(defun greet ()
  (format t "Hello from the function!~%"))

(greet)
        </code></pre>

        <h2>Классы и объекты</h2>
        <p>Пример создания и использования классов:</p>
        <pre><code class="language-lisp">
(defclass rectangle ()
  ((width :initarg :width :accessor rectangle-width)
   (height :initarg :height :accessor rectangle-height)))

(defun area (rect)
  (* (rectangle-width rect) (rectangle-height rect)))

(defun display-rectangle (rect)
  (format t "Width: ~a, Height: ~a, Area: ~a~%"
          (rectangle-width rect)
          (rectangle-height rect)
          (area rect)))

(let ((rect (make-instance 'rectangle :width 5 :height 3)))
  (display-rectangle rect))
        </code></pre>

        <h2>Наследование</h2>
        <p>Пример использования наследования в Common Lisp:</p>
        <pre><code class="language-lisp">
(defclass animal ()
  ())

(defclass dog (animal)
  ())

(defmethod speak ((a animal))
  (format t "Animal makes a sound.~%"))

(defmethod speak ((d dog))
  (format t "Dog barks.~%"))

(let ((my-dog (make-instance 'dog)))
  (speak my-dog))
        </code></pre>

        <h2>Указатели</h2>
        <p>В Common Lisp указатели не используются напрямую, так как язык управляет памятью автоматически.</p>

        <h2>Динамическое выделение памяти</h2>
        <p>В Common Lisp нет прямого управления памятью, используются автоматическое управление памятью и сборщик мусора.</p>

        <h2>Работа с файлами</h2>
        <p>Пример работы с файлами в Common Lisp:</p>
        <pre><code class="language-lisp">
(defun write-file ()
  (with-open-file (stream "example.txt" :direction :output :if-exists :supersede)
    (format stream "Hello, file!~%")))

(defun read-file ()
  (with-open-file (stream "example.txt" :direction :input)
    (loop for line = (read-line stream nil)
          while line
          do (format t "~a~%" line)))

(write-file)
(read-file)
        </code></pre>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-common-lisp.min.js"></script>
</body>

</html>
